stages: # List of stages for jobs, and their order of execution
  - test

variables:
  GIT_CLONE_PATH: $CI_BUILDS_DIR/$CI_CONCURRENT_ID/kodekamp

test frontend and backend:
  image: node:20.17.0
  stage: test
  script:
    - cd backend
    - npm install
    - npm run check
    - npm run test
    - cd ../frontend
    - npm install
    - npm run check
    - npm run test

test code-runner:
  image: rust:1.81
  stage: test
  script:
    - cd code-runner
    - cargo build --verbose
    - cargo test --verbose
